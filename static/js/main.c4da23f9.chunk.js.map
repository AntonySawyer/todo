{"version":3,"sources":["logo.svg","components/TaskItem/TaskItem.tsx","utils/generateTask.ts","components/Footer/Footer.tsx","components/Header/Header.tsx","App.tsx","serviceWorker.ts","utils/localStorage.ts","index.tsx","utils/reducer.ts"],"names":["module","exports","__webpack_require__","p","TaskItem","_this","this","liClassName","props","isDone","react","className","id","type","checked","onChange","e","markAsDone","style","background","color","task","creationDate","onClick","deleteTask","title","editTask","React","generateTask","Date","toLocaleString","day","month","year","Math","random","toFixed","toString","Footer","name","defaultChecked","htmlFor","deleteCompleted","sortCompleted","sortByDate","filter","bind","total","arhive","Header","src","logo","alt","inputGroup","App","state","isHidden","taskInput","colorInput","onKeyDown","key","addTask","fillInput","content","value","focus","newTask","newColor","dispatch","payload","generateNewTask","toHide","archive","document","querySelectorAll","active","forEach","el","classList","remove","add","target","_this2","react_default","a","createElement","placeholder","required","pattern","ref","input","onKeyPress","defaultValue","_this3","components_Header_Header","tasks","map","components_TaskItem_TaskItem","components_Footer_Footer","length","hideTarget","Component","connect","Boolean","window","location","hostname","match","store","createStore","arguments","undefined","action","concat","Object","toConsumableArray","findIndex","sort","b","firstDateArr","split","secondDateArr","firstDate","Number","secondDate","valueOf","serializedState","localStorage","getItem","JSON","parse","err","loadState","subscribe","stringify","setItem","_unused","saveState","getState","ReactDOM","render","es","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c4da23f9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.bfea3f98.svg\";","import * as React from 'react';\r\nimport * as int from '../../interfaces';\r\nimport './TaskItem.css';\r\n\r\nclass TaskItem extends React.Component<int.ITask> {\r\n    public render() {\r\n        const liClassName: string = this.props.isDone ? 'archive' : 'active';\r\n        return ( \r\n            <li className={liClassName} id={this.props.id}>\r\n                <label className=\"checkContainer\">\r\n                    <input type=\"checkbox\" checked={this.props.isDone} id={this.props.id} \r\n                            onChange={(e) => this.props.markAsDone(this.props.id)} />\r\n                    <span className=\"checkmark\" />\r\n                </label>\r\n                <span className=\"taskColorMark\" style={{'background': this.props.color}} />\r\n                <span className=\"taskTitle\">{this.props.task}</span>\r\n                <div className=\"infoGroup\">\r\n                    <span className=\"creationDate\">{this.props.creationDate}</span>\r\n                    <button className=\"taskBtn\" onClick={(e) => this.props.deleteTask(this.props.id)} \r\n                            title=\"Delete task\">×</button>\r\n                    <button className=\"taskBtn\" onClick={(e) => this.props.editTask({id: this.props.id, task: this.props.task, color: this.props.color})}\r\n                    title=\"Edit task\">✍</button>\r\n                </div>\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TaskItem;","function getID() {\r\n    return (Math.random()*1000).toFixed(4).toString();\r\n}\r\n\r\nexport default function(task: string[]) {\r\n    if (task[0] !== '') {\r\n        return {\r\n            creationDate: new Date().toLocaleString('ru', { day: 'numeric', month: 'numeric', year: 'numeric' }),\r\n            id: getID(),\r\n            isDone: false,\r\n            color: task[1],\r\n            task: task[0]\r\n        }\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport * as int from '../../interfaces';\r\nimport './Footer.css';\r\n\r\nclass Footer extends React.Component<int.IFooter> {\r\n    render() {\r\n        return ( \r\n            <footer>\r\n                    <input type=\"radio\" name=\"menuRadio\" id=\"showViewed\" className=\"showViewed\" defaultChecked />\r\n                    <label htmlFor=\"showViewed\">Filters</label>\r\n                    <input type=\"radio\" name=\"menuRadio\" id=\"showControl\" className=\"showControl\" />\r\n                    <label htmlFor=\"showControl\">Controls</label>\r\n                    <div className=\"control\">\r\n                        <button onClick={this.props.deleteCompleted} title=\"Delete marked\">Delete</button>\r\n                        <button onClick={this.props.sortCompleted} title=\"Active to top\">Sort done</button>\r\n                        <button onClick={this.props.sortByDate} title=\"First fresh\">Sort by date</button>\r\n                    </div>\r\n                    <div className=\"viewed\">\r\n                        <button onClick={this.props.filter.bind(this, '')} title=\"Show all\">Total (<b>{this.props.total}</b>)</button>\r\n                        <button onClick={this.props.filter.bind(this, 'archive')} title=\"Show only active\">Active (<b>{this.props.total - this.props.arhive}</b>)</button>\r\n                        <button onClick={this.props.filter.bind(this, 'active')} title=\"Show only archived\">Archive (<b>{this.props.arhive}</b>)</button>\r\n                    </div>\r\n            </footer>\r\n        );\r\n      }\r\n}\r\n\r\nexport default Footer;","import * as React from 'react';\r\nimport logo from '../../logo.svg';\r\nimport * as int from '../../interfaces';\r\nimport './Header.css';\r\n\r\n\r\nclass Header extends React.Component<int.IHeader> {\r\n    render() {\r\n        return ( \r\n            <header>\r\n                <img src={logo} alt=\"logo\" className=\"logo\" />\r\n                <h1>ToDo List</h1>\r\n                {this.props.inputGroup()}\r\n            </header>\r\n        );\r\n      }\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './App.css';\r\nimport * as int from './interfaces';\r\nimport TaskItem from './components/TaskItem/TaskItem';\r\nimport generateNewTask from './utils/generateTask';\r\nimport Footer from './components/Footer/Footer';\r\nimport Header from './components/Header/Header';\r\n\r\n\r\nclass App extends Component<int.IAppProps> {\r\n  state = {\r\n    isHidden: false\r\n  }\r\n\r\n  taskInput!: HTMLInputElement;\r\n  colorInput!: HTMLInputElement;\r\n\r\n  addTask() {\r\n    const newTask = this.taskInput.value;\r\n    const newColor = this.colorInput.value;\r\n    this.fillInput(['', newColor]);\r\n    newTask && this.props.dispatch({type: 'ADD_TASK', payload: generateNewTask([newTask, newColor])});\r\n  }\r\n\r\n  deleteCompleted() {\r\n    this.props.dispatch({type: 'DELETE_MARKED', payload: ''});\r\n  }\r\n\r\n  sortCompleted() {\r\n    this.props.dispatch({type: 'SORT_COMPLETED', payload: ''});\r\n  }\r\n  sortByDate() {\r\n    this.props.dispatch({type: 'SORT_BY_DATE', payload: ''});\r\n  }\r\n\r\n  onKeyDown = (e: any) => {\r\n    if (e.key === 'Enter') {\r\n      this.addTask();\r\n    }\r\n  }\r\n\r\n  hideTarget(toHide: string) {\r\n    const archive = document.querySelectorAll('.archive');\r\n    const active = document.querySelectorAll('.active');\r\n    if (toHide === 'archive') {\r\n      active.forEach(el => {el.classList.remove('isHidden')});\r\n      archive.forEach(el => {el.classList.add('isHidden')});\r\n    } else if (toHide === 'active') {\r\n      active.forEach(el => {el.classList.add('isHidden')});\r\n      archive.forEach(el => {el.classList.remove('isHidden')});\r\n    } else {\r\n      active.forEach(el => {el.classList.remove('isHidden')});\r\n      archive.forEach(el => {el.classList.remove('isHidden')});\r\n    }\r\n    this.state.isHidden = !this.state.isHidden;\r\n  }\r\n\r\n  fillInput = (content: string[]) => {\r\n    this.taskInput.value = content[0];\r\n    this.taskInput.focus();\r\n    this.colorInput.value = content[1] || \"#62bfbf\";\r\n  };\r\n\r\n  deleteTask(id: string) {\r\n    this.props.dispatch({type: 'DELETE_TASK', payload: id});\r\n  }\r\n\r\n  markAsDone(id: string) {\r\n    this.props.dispatch({type: 'COMPLETE_TASK', payload: id});\r\n  }\r\n\r\n  editTask(target: int.editTask) {\r\n    this.fillInput([target.task, target.color]);\r\n    this.props.dispatch({type: 'DELETE_TASK', payload: target.id});\r\n  }\r\n\r\n  inputGroup () {\r\n    return (\r\n      <div className=\"inputGroup\">\r\n        <input type=\"text\" className=\"taskInput\" placeholder=\"Enter new task ⏎\" \r\n                required pattern=\"\\S+\"\r\n                ref={(input: HTMLInputElement) => {this.taskInput = input}} \r\n                onKeyPress={this.onKeyDown} />\r\n        <input type=\"color\" className=\"taskColorPicker\" defaultValue=\"#62bfbf\"\r\n                ref={(input: HTMLInputElement) => {this.colorInput = input}} />\r\n        <button className=\"taskInputBtn\" title=\"Add new task\"\r\n                onClick={this.addTask.bind(this)}>Add</button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Header inputGroup={this.inputGroup.bind(this)} />\r\n        <main>\r\n          <ul>\r\n            {this.props.tasks.map(el =>\r\n                <TaskItem key={el.id}\r\n                  id={el.id}\r\n                  isDone={el.isDone}\r\n                  color={el.color}\r\n                  task={el.task} \r\n                  creationDate={el.creationDate}\r\n                  deleteTask={this.deleteTask.bind(this)}\r\n                  editTask={this.editTask.bind(this)}\r\n                  markAsDone={this.markAsDone.bind(this)} />\r\n              )}\r\n          </ul>\r\n        </main>\r\n        <Footer total={this.props.tasks.length} \r\n                arhive={this.props.tasks.filter(el => el.isDone).length} \r\n                filter={this.hideTarget.bind(this)} \r\n                deleteCompleted={this.deleteCompleted.bind(this)}\r\n                sortCompleted={this.sortCompleted.bind(this)} \r\n                sortByDate={this.sortByDate.bind(this)} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: int.ITask[]) => ({\r\n  tasks: state\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import * as int from '../interfaces';\r\n\r\nexport const loadState = () => {\r\n    try {\r\n      const serializedState = localStorage.getItem('todoListState');\r\n      if (serializedState === null) {\r\n        return undefined;\r\n      }\r\n      return JSON.parse(serializedState);\r\n    } catch (err) {\r\n      return undefined;\r\n    }\r\n  };\r\n\r\nexport const saveState = (state: int.ITask[]) => {\r\n    try {\r\n      const serializedState = JSON.stringify(state);\r\n      localStorage.setItem('todoListState', serializedState);\r\n    } catch {\r\n      // ignore write errors\r\n    }\r\n  };\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { saveState, loadState } from './utils/localStorage';\r\nimport Reducer from './utils/reducer';\r\n\r\n\r\nconst store = createStore(Reducer, loadState());\r\n\r\nstore.subscribe(() => {\r\n    saveState(store.getState());\r\n});\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>\r\n    , document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n","import * as int from '../interfaces';\r\n\r\nexport default function reducer(state: int.ITask[] = [], action: int.IAction) {\r\n    switch (action.type) {\r\n        case 'ADD_TASK':\r\n            return [...state, action.payload];\r\n        break;\r\n        case 'DELETE_TASK':\r\n            return [...state.filter(el => el.id !== action.payload)];\r\n        break;\r\n        case 'COMPLETE_TASK':\r\n            const target = [...state].findIndex(el => el.id === action.payload);\r\n            [...state][target].isDone = ![...state][target].isDone;\r\n            return [...state];\r\n        break;\r\n        case 'SORT_COMPLETED':\r\n            return [...state.sort(el => el.isDone === true ? -1 : 1)];\r\n        break;\r\n        case 'SORT_BY_DATE':\r\n            return [...state.sort((a,b) => {\r\n                const firstDateArr:string[] = a.creationDate.toString().split('.');\r\n                const secondDateArr:string[] = b.creationDate.toString().split('.');\r\n                const firstDate = new Date(Number(firstDateArr[1]), Number(firstDateArr[0]), Number(firstDateArr[2]));\r\n                const secondDate = new Date(Number(secondDateArr[1]), Number(secondDateArr[0]), Number(secondDateArr[2]));\r\n                return firstDate.valueOf() >= secondDate.valueOf() ? 1 : -1;\r\n            })];\r\n        break;\r\n        case 'DELETE_MARKED':\r\n            return [...state.filter(el => el.isDone !== true)];\r\n        break;\r\n        default:\r\n            return [...state];\r\n    }\r\n}"],"sourceRoot":""}